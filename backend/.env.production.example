# ================================
# 生产环境配置模板
# ================================
# 复制此文件为 .env.production 并修改相应配置
# 生产环境启动命令: NODE_ENV=production npm start

# Server
NODE_ENV=production
PORT=3001

# Database - 生产数据库配置 (必选)
DB_HOST=your-production-db-host
DB_PORT=5432
DB_NAME=common_management_prod
DB_USER=your-db-user
DB_PASSWORD=your-strong-password

# Redis - 生产Redis配置 (可选 - 推荐配置)
# 如未配置，系统将使用内存存储（不推荐用于生产环境）
# 注意：内存存储不支持多实例部署
REDIS_HOST=your-production-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-strong-password

# JWT - 生产环境必须使用强密钥
JWT_SECRET=your-super-secret-key-at-least-32-characters-long
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-super-secret-refresh-key-at-least-32-characters
JWT_REFRESH_EXPIRES_IN=7d

# Minio - 对象存储配置
MINIO_ENDPOINT=your-production-minio-host
MINIO_PORT=9000
MINIO_USE_SSL=true
MINIO_ACCESS_KEY=your-access-key
MINIO_SECRET_KEY=your-secret-key
MINIO_BUCKET=common-management-prod

# CORS - 生产环境应限制具体域名
CORS_ORIGIN=https://your-domain.com

# WebSocket CORS - 配置前端域名
SOCKET_CORS_ORIGIN=https://your-domain.com

# Rate Limit (可选)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# SMTP 邮件配置 (可选 - 如需邮件通知功能请配置)
# 用于发送告警邮件、通知邮件等
# 如未配置，邮件相关功能将被禁用
SMTP_HOST=smtp.163.com
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=your-email@163.com
SMTP_PASSWORD=your-smtp-auth-code
SMTP_FROM_NAME=Common Management Platform
SMTP_FROM_EMAIL=your-email@163.com

# ================================
# 重要提示
# ================================
# 1. 生产环境必须使用 npm start 而非 npm run dev
# 2. 确保所有密钥都是强随机字符串
# 3. 定期更新密钥和密码
# 4. 不要将此文件提交到版本控制系统
# 5. 建议使用环境变量管理工具（如 docker secrets, k8s secrets）
# 6. Redis 和 SMTP 为可选配置，但生产环境强烈建议配置 Redis
# 7. 未配置 Redis 时系统将使用内存存储，应用重启后数据会丢失
# 8. 未配置 SMTP 时邮件通知功能将不可用
